{"version":3,"sources":["api/users.js","api/categories.js","api/products.js","App.jsx","index.jsx"],"names":["id","name","sex","title","icon","ownerId","categoryId","getOwnerClassName","arguments","length","undefined","App","selectedProduct","setSelectedProduct","useState","selectedUser","setSelectedUser","selectedCategories","setSelectedCategories","query","setQuery","isSelected","_ref","some","p","clearFilters","preparedUsers","users","normalizedQuery","trim","toLowerCase","filter","user","includes","map","getPreparedUsers","usersFromServer","visibleProducts","products","options","categories","preparedProducts","product","category","_users$find","_categories$find","_categories$find2","userName","find","u","categoryName","c","categoryIcon","getPreparedProducts","productsFromServer","categoriesFromServer","_jsx","className","children","_jsxs","href","role","tabIndex","classNames","onClick","type","removeProduct","addProduct","onKeyDown","e","key","_usersFromServer$find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ef27477e.chunk.js","sourcesContent":["export default [\n  { id: 1, name: 'Roma', sex: 'm' },\n  { id: 2, name: 'Anna', sex: 'f' },\n  { id: 3, name: 'Max', sex: 'm' },\n  { id: 4, name: 'John', sex: 'm' },\n];\n","export default [\n  {\n    id: 1,\n    title: 'Grocery',\n    icon: 'ðŸž',\n    ownerId: 2,\n  },\n  {\n    id: 2,\n    title: 'Drinks',\n    icon: 'ðŸº',\n    ownerId: 1,\n  },\n  {\n    id: 3,\n    title: 'Fruits',\n    icon: 'ðŸ',\n    ownerId: 2,\n  },\n  {\n    id: 4,\n    title: 'Electronics',\n    icon: 'ðŸ’»',\n    ownerId: 1,\n  },\n  {\n    id: 5,\n    title: 'Clothes',\n    icon: 'ðŸ‘š',\n    ownerId: 3,\n  },\n];\n","export default [\n  {\n    id: 1,\n    name: 'Milk',\n    categoryId: 2,\n  },\n  {\n    id: 2,\n    name: 'Bread',\n    categoryId: 1,\n  },\n  {\n    id: 3,\n    name: 'Eggs',\n    categoryId: 1,\n  },\n  {\n    id: 4,\n    name: 'Jacket',\n    categoryId: 5,\n  },\n  {\n    id: 5,\n    name: 'Sugar',\n    categoryId: 1,\n  },\n  {\n    id: 6,\n    name: 'Banana',\n    categoryId: 3,\n  },\n  {\n    id: 7,\n    name: 'Beer',\n    categoryId: 2,\n  },\n  {\n    id: 8,\n    name: 'Socks',\n    categoryId: 5,\n  },\n  {\n    id: 9,\n    name: 'Apples',\n    categoryId: 3,\n  },\n];\n","/* eslint-disable jsx-a11y/accessible-emoji */\nimport React, { useState } from 'react';\nimport './App.scss';\nimport classNames from 'classnames';\n\nimport usersFromServer from './api/users';\nimport categoriesFromServer from './api/categories';\nimport productsFromServer from './api/products';\n\nfunction getPreparedUsers(users, query) {\n  const normalizedQuery = query.trim().toLowerCase();\n\n  return users\n    .filter(user => user.name.toLowerCase().includes(normalizedQuery))\n    .map(user => ({\n      ...user,\n      name: user.name.toLowerCase(),\n    }));\n}\n\nfunction getOwnerClassName(sex = 'm') {\n  return sex === 'm' ? 'has-text-link' : 'has-text-danger';\n}\n\nfunction getPreparedProducts(products, options, users, categories) {\n  const { query = '', user = null, selectedCategories = [] } = options;\n\n  let preparedProducts = [...products];\n\n  const normalizedQuery = query.trim().toLowerCase();\n\n  if (normalizedQuery) {\n    preparedProducts = preparedProducts\n      .filter(product => product.name.toLowerCase().includes(normalizedQuery));\n  }\n\n  if (user) {\n    preparedProducts = preparedProducts\n      .filter(product => product.user === user);\n  }\n\n  if (selectedCategories.length > 0) {\n    preparedProducts = preparedProducts\n      .filter(product => selectedCategories.includes(product.category));\n  }\n\n  return preparedProducts.map(product => ({\n    ...product,\n    userName: users.find(u => u.id === product.user)?.name || '',\n    categoryName: categories.find(c => c.id === product.category)?.title || '',\n    categoryIcon: categories.find(c => c.id === product.category)?.icon || '',\n  }));\n}\n\nexport function App() {\n  const [selectedProduct, setSelectedProduct] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [selectedCategories, setSelectedCategories] = useState([]);\n  const [query, setQuery] = useState('');\n\n  const addProduct = (product) => {\n    setSelectedProduct([...selectedProduct, product]);\n  };\n\n  const isSelected = ({ id }) => selectedProduct.some(p => p.id === id);\n\n  const removeProduct = (product) => {\n    setSelectedProduct(selectedProduct.filter(p => p.id !== product.id));\n  };\n\n  const clearFilters = () => {\n    setSelectedUser(null);\n    setSelectedCategories([]);\n    setQuery('');\n    setSelectedProduct([]);\n  };\n\n  const preparedUsers = getPreparedUsers(usersFromServer, query);\n\n  const visibleProducts = getPreparedProducts(productsFromServer, {\n    query,\n    user: selectedUser,\n    selectedCategories,\n  }, usersFromServer, categoriesFromServer);\n\n  return (\n    <div className=\"section\">\n      <div className=\"container\">\n        <h1 className=\"title\">Product Categories</h1>\n\n        <div className=\"block\">\n          <nav className=\"panel\">\n            <p className=\"panel-heading\">Filters</p>\n\n            <div className=\"panel-tabs has-text-weight-bold\">\n              <a\n                href=\"#/\"\n                role=\"button\"\n                tabIndex=\"0\"\n                className={classNames('button', { 'is-active': !selectedUser })}\n                onClick={() => setSelectedUser(null)}\n              >\n                All\n              </a>\n              {preparedUsers.map(user => (\n                <a\n                  key={user.id}\n                  href=\"#/\"\n                  role=\"button\"\n                  tabIndex=\"0\"\n                  className={classNames('button',\n                    { 'is-active': selectedUser === user.id })}\n                  onClick={() => setSelectedUser(user.id)}\n                >\n                  {user.name}\n                </a>\n              ))}\n            </div>\n\n            <div className=\"panel-block is-flex-wrap-wrap\">\n              <button\n                type=\"button\"\n                className={classNames('button is-success mr-6 is-outlined', {\n                  'is-active': selectedCategories.length === 0,\n                })}\n                onClick={() => setSelectedCategories([])}\n              >\n                All\n              </button>\n\n              {visibleProducts.map(product => (\n                <a\n                  key={product.id}\n                  data-cy=\"Category\"\n                  className={classNames('button mr-2 my-1', {\n                    'is-info': isSelected(product),\n                  })}\n                  href=\"#/\"\n                  onClick={() => (isSelected(product)\n                    ? removeProduct(product) : addProduct(product))}\n                >\n                  {product.category}\n                </a>\n              ))}\n\n            </div>\n\n            <div className=\"panel-block\">\n              <button\n                type=\"button\"\n                className=\"button is-link is-outlined is-fullwidth\"\n                onClick={clearFilters}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter') {\n                    clearFilters();\n                  }\n                }}\n              >\n                Reset all filters\n              </button>\n            </div>\n          </nav>\n        </div>\n\n        <div className=\"box table-container\">\n          {visibleProducts.length === 0 && (\n            <p>No products matching selected criteria</p>\n          )}\n          <table className=\"table is-striped is-narrow is-fullwidth\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Product</th>\n                <th>Category</th>\n                <th>User</th>\n              </tr>\n            </thead>\n\n            <tbody>\n              {visibleProducts.map(product => (\n                <tr key={product.id}>\n                  <td className=\"has-text-weight-bold\">{product.id}</td>\n\n                  <td>{product.name}</td>\n                  <td>\n                    <span role=\"img\" aria-label=\"Category Icon\">\n                      {product.categoryIcon}\n                    </span>\n                    {' '}\n                    {product.categoryName}\n                  </td>\n\n                  <td className={getOwnerClassName(usersFromServer\n                    .find(u => u.id === product.user)?.sex)}\n                  >\n                    {product.userName}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}